macro(cctools_misc_executable name)
    add_host_tool(${name})
    target_sources(${name} PRIVATE ${name}.c)
    target_link_libraries(${name} PRIVATE libmacho libstuff)
    target_include_directories(${name} PRIVATE ../include ../include/foreign ../libstuff)
    target_compile_definitions(${name} PRIVATE -D__DARWIN_UNIX03)
endmacro()

cctools_misc_executable(checksyms)
cctools_misc_executable(lipo)
cctools_misc_executable(size)
cctools_misc_executable(strings)
cctools_misc_executable(nm)
cctools_misc_executable(libtool)
cctools_misc_executable(redo_prebinding)
cctools_misc_executable(seg_addr_table)
cctools_misc_executable(seg_hack)
cctools_misc_executable(install_name_tool)
cctools_misc_executable(indr)
cctools_misc_executable(strip)
cctools_misc_executable(segedit)
cctools_misc_executable(pagestuff)
cctools_misc_executable(codesign_allocate)
cctools_misc_executable(bitcode_strip)
target_compile_definitions(bitcode_strip PRIVATE -DALLOW_ARCHIVES)
cctools_misc_executable(ctf_insert)
cctools_misc_executable(check_dylib)
cctools_misc_executable(cmpdylib)
cctools_misc_executable(inout)
cctools_misc_executable(vtool)

# Special cases
add_host_tool(nmedit)
target_sources(nmedit PRIVATE strip.c)
target_link_libraries(nmedit PRIVATE libmacho libstuff)
target_include_directories(nmedit PRIVATE ../include ../include/foreign ../libstuff)
target_compile_definitions(nmedit PRIVATE -D__DARWIN_UNIX03 -DNMEDIT)

add_host_tool(ranlib)
target_sources(ranlib PRIVATE libtool.c)
target_link_libraries(ranlib PRIVATE libmacho libstuff)
target_include_directories(ranlib PRIVATE ../include ../include/foreign ../libstuff)
target_compile_definitions(ranlib PRIVATE -D__DARWIN_UNIX03 -DRANLIB)
